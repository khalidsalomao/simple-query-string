!function(r,e){"function"==typeof define&&define.amd?define("simple-query-string",e):"object"==typeof module&&module.exports?module.exports=e():r.simpleQueryString=e()}(this,function(){"use strict";function r(r){var e,n=Object.prototype.hasOwnProperty,t=[];for(e in r)n.call(r,e)&&t.push(e);return t}function e(r){return void 0===r?null:r?decodeURIComponent(r):r}function n(r){return void 0===r||null===r?"":"string"==typeof r?encodeURIComponent(r):JSON&&JSON.stringify?encodeURIComponent(JSON.stringify(r)):encodeURIComponent(r.toString())}return Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)}),{version:"1.3-beta",parse:function(r,n,t){var o;n=n||"&",t=t||"=";var i=Object.create(null);if("string"!=typeof r)return i;if(o=r.indexOf("?"),o>=0)r=r.substr(o+1);else if(r.indexOf("=")<0)return i;r=r.replace(/^[\s\uFEFF\xA0\?#&]+|[\s\uFEFF\xA0&]+$/g,""),o=r.lastIndexOf("#"),o>0&&(r=r.substr(0,o));var u=r.split(n);for(o=0;o<u.length;++o){var f=u[o].replace(/\+/g," ").split(t),s=e(f.shift());if(s){var l=f.length>1&&"="===t?f.join(t):f[0];l=e(l);var a=i[s];void 0===a?i[s]=l:Array.isArray(a)?a.push(l):i[s]=[a,l]}}return i},stringify:function(e,t,o){var i,u;if(t=t||"&",o=o||"=","object"!=typeof e&&"function"!=typeof e||null===e)return"";var f=r(e);if(!f||!f.length)return"";var s=[];for(i=0;i<f.length;i++){var l=n(f[i]),a=e[l];if(void 0!==a&&"function"!=typeof a)if(Array.isArray(a))for(u=0;u<a.length;++u)s.push(l+o+(a[u]?n(a[u]):""));else null!==a&&(a=n(a)),s.push(null===a||void 0===a?l:l+o+a)}return s.join(t)}}});