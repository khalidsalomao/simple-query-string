!function(e,n){"function"==typeof define&&define.amd?define("simple-query-string",n):"object"==typeof module&&module.exports?module.exports=n():e.simpleQueryString=n()}(this,function(){"use strict";function e(e){var t,n=Object.prototype.hasOwnProperty,r=[];for(t in e)n.call(e,t)&&r.push(t);return r}function n(e){return void 0===e?null:e?decodeURIComponent(e):e}function r(e){return void 0===e||null===e?"":encodeURIComponent("string"==typeof e?e:JSON&&JSON.stringify?JSON.stringify(e):e.toString())}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),{parse:function(e){var r,t=Object.create(null);if("string"!=typeof e)return t;if(r=e.indexOf("?"),r>=0)e=e.substr(r+1);else if(e.indexOf("=")<0)return t;e=e.replace(/^[\s\uFEFF\xA0\?#&]+|[\s\uFEFF\xA0&]+$/g,""),r=e.lastIndexOf("#"),r>0&&(e=e.substr(0,r));var i=e.split("&");for(r=0;r<i.length;++r){var f=i[r].replace(/\+/g," ").split("="),u=n(f.shift());if(u){var o=f.length>1?f.join("="):f[0];o=n(o);var s=t[u];void 0===s?t[u]=o:Array.isArray(s)?s.push(o):t[u]=[s,o]}}return t},stringify:function(n){var t,i;if("object"!=typeof n&&"function"!=typeof n||null===n)return"";var f=e(n);if(!f||!f.length)return"";var u=[];for(t=0;t<f.length;t++){var o=r(f[t]),s=n[o];if(void 0!==s&&"function"!=typeof s)if(Array.isArray(s)){var l=[];for(i=0;i<s.length;++i){var a=s[i];void 0!==i&&l.push(null===i?o:o+"="+r(a))}u.push(l.join("&"))}else null!==s&&(s=r(s)),u.push(null===s||void 0===s?o:o+"="+s)}return u.join("&")}}});