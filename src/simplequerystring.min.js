!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof module&&module.exports?module.exports=r():e.simpleQueryString=r()}(this,function(){"use strict";function e(e){var t,r=Object.prototype.hasOwnProperty,n=[];for(t in e)r.call(e,t)&&n.push(t);return n}function r(e){return void 0===e?null:e?decodeURIComponent(e):e}function n(e){return void 0===e||null===e?"":encodeURIComponent("string"==typeof e?e:JSON&&JSON.stringify?JSON.stringify(e):e.toString())}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),{parse:function(e){var n,t=Object.create(null);if("string"!=typeof e)return t;if(n=e.indexOf("?"),n>=0)e=e.substr(n+1);else if(e.indexOf("=")<0)return t;e=e.replace(/^[\s\uFEFF\xA0\?#&]+|[\s\uFEFF\xA0&]+$/g,""),n=e.lastIndexOf("#"),n>0&&(e=e.substr(0,n));var i=e.split("&");for(n=0;n<i.length;++n){var o=i[n].replace(/\+/g," ").split("="),f=r(o.shift());if(f){var u=o.length>1?o.join("="):o[0];u=r(u);var a=t[f];void 0===a?t[f]=u:Array.isArray(a)?a.push(u):t[f]=[a,u]}}return t},stringify:function(r){var t,i;if("object"!=typeof r&&"function"!=typeof r||null===r)return"";var o=e(r);if(!o||!o.length)return"";var f=[];for(t=0;t<o.length;t++){var u=n(o[t]),a=r[u];if(void 0!==a)if(Array.isArray(a)){var s=[];for(i=0;i<a.length;++i){var l=a[i];void 0!==i&&s.push(null===i?u:u+"="+n(l))}f.push(s.join("&"))}else f.push(null===a?u:u+"="+n(a))}return f.join("&")}}});