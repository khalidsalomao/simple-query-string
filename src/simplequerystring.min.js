!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.simpleQueryString=t()}(this,function(){"use strict";function e(e){var i,t=Object.prototype.hasOwnProperty,r=[];for(i in e)t.call(e,i)&&r.push(i);return r}function t(e){return void 0===e?null:e?decodeURIComponent(e):e}function r(e){return void 0===e||null===e?"":encodeURIComponent("string"==typeof e?e:JSON&&JSON.stringify?JSON.stringify(e):e.toString())}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),{parse:function(e){var r,i=Object.create(null);if("string"!=typeof e)return i;if(r=e.indexOf("?"),r>=0)e=e.substr(r+1);else if(e.indexOf("=")<0)return i;e=e.replace(/^[\s\uFEFF\xA0\?#&]+|[\s\uFEFF\xA0&]+$/g,""),r=e.lastIndexOf("#"),r>0&&(e=e.substr(0,r));var a=e.split("&");for(r=0;r<a.length;++r){var n=a[r].replace(/\+/g," ").split("="),s=t(n.shift());if(s){var p=n.length>1?n.join("="):n[0];p=t(p);var l=i[s];void 0===l?i[s]=p:Array.isArray(l)?l.push(p):i[s]=[l,p]}}return i},stringify:function(t){var i,a;if("object"!=typeof t&&"function"!=typeof t||null===t)return"";var n=e(t);if(!n||!n.length)return"";var s=[];for(i=0;i<n.length;i++){var p=r(n[i]),l=t[p];if(void 0!==l&&"function"!=typeof l)if(Array.isArray(l)){var u=[];for(a=0;a<l.length;++a){var o=l[a];void 0!==a&&u.push(null===a?p:p+"="+r(o))}s.push(u.join("&"))}else null!==l&&(l=r(l)),s.push(null===l||void 0===l?p:p+"="+l)}return s.join("&")}}});