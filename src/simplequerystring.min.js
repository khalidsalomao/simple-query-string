!function(r,e){"function"==typeof define&&define.amd?define("simple-query-string",e):"object"==typeof module&&module.exports?module.exports=e():r.simpleQueryString=e()}(this,function(){"use strict";function r(r){var e,n=Object.prototype.hasOwnProperty,t=[];for(e in r)n.call(r,e)&&t.push(e);return t}function e(r){return void 0===r?null:r?decodeURIComponent(r):r}function n(r){switch(typeof r){case"string":return encodeURIComponent(r);case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";case"object":return void 0===r||null===r?"":JSON&&JSON.stringify?encodeURIComponent(JSON.stringify(r)):"";default:return""}}return Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)}),{version:"1.3.0",parse:function(r,n,t){var i;n=n||"&",t=t||"=";var o=Object.create(null);if("string"!=typeof r)return o;if(i=r.indexOf("?"),i>=0&&(r=r.substr(i+1)),r.indexOf(t)<0)return o;r=r.replace(/^[\s\uFEFF\xA0\?#&]+|[\s\uFEFF\xA0&]+$/g,""),i=r.lastIndexOf("#"),i>0&&(r=r.substr(0,i));var u=r.split(n);for(i=0;i<u.length;++i){var s,f,l=u[i].replace(/\+/g," "),a=l.indexOf(t);if(0!==a&&0!==l.length){0>a?(s=e(l),f=null):(s=e(l.substr(0,a)),f=e(l.substr(a+1)));var c=o[s];void 0===c?o[s]=f:Array.isArray(c)?c.push(f):o[s]=[c,f]}}return o},stringify:function(e,t,i){if(t=t||"&",i=i||"=","object"!=typeof e&&"function"!=typeof e||null===e)return"";var o=r(e);if(!o||!o.length)return"";for(var u,s,f,l=[],a=0;a<o.length;a++)if(s=n(o[a]),f=e[s],void 0!==f&&"function"!=typeof f)if(Array.isArray(f))for(u=0;u<f.length;++u)l.push(s+i+(f[u]?n(f[u]):""));else null!==f&&(f=n(f)),l.push(null===f||void 0===f?s:s+i+f);return l.join(t)}}});