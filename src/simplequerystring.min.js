!function(r,e){"function"==typeof define&&define.amd?define("simple-query-string",e):"object"==typeof module&&module.exports?module.exports=e():r.simpleQueryString=e()}(this,function(){"use strict";function r(r){var e,n=Object.prototype.hasOwnProperty,t=[];for(e in r)n.call(r,e)&&t.push(e);return t}function e(r){return void 0===r?null:r?decodeURIComponent(r):r}function n(r){return void 0===r||null===r?"":"string"==typeof r?encodeURIComponent(r):JSON&&JSON.stringify?encodeURIComponent(JSON.stringify(r)):encodeURIComponent(r.toString())}return Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)}),{parse:function(r,n){var t,o=Object.create(null);if("string"!=typeof r)return o;if(t=r.indexOf("?"),t>=0)r=r.substr(t+1);else if(r.indexOf("=")<0)return o;r=r.replace(/^[\s\uFEFF\xA0\?#&]+|[\s\uFEFF\xA0&]+$/g,""),t=r.lastIndexOf("#"),t>0&&(r=r.substr(0,t));var i=r.split(n||"&");for(t=0;t<i.length;++t){var u=i[t].replace(/\+/g," ").split("="),f=e(u.shift());if(f){var s=u.length>1?u.join("="):u[0];s=e(s);var l=o[f];void 0===l?o[f]=s:Array.isArray(l)?l.push(s):o[f]=[l,s]}}return o},stringify:function(e,t){var o,i;if("object"!=typeof e&&"function"!=typeof e||null===e)return"";var u=r(e);if(!u||!u.length)return"";var f=[];for(o=0;o<u.length;o++){var s=n(u[o]),l=e[s];if(void 0!==l&&"function"!=typeof l)if(Array.isArray(l))for(i=0;i<l.length;++i)f.push(s+"="+(l[i]?n(l[i]):""));else null!==l&&(l=n(l)),f.push(null===l||void 0===l?s:s+"="+l)}return f.join(t||"&")}}});