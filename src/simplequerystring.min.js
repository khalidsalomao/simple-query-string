!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof module&&module.exports?module.exports=n():e.simpleQueryString=n()}(this,function(){"use strict";function e(e){var t,n=Object.prototype.hasOwnProperty,r=[];for(t in e)n.call(e,t)&&(r[r.length]=t);return r}function n(e){return void 0===e?null:e?decodeURIComponent(e):e}function r(e){return void 0===e||null===e?"":encodeURIComponent("string"==typeof e?e:JSON&&JSON.stringify?JSON.stringify(e):e.toString())}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),{parse:function(e){var r,t,i,f,o,u;if(r=Object.create(null),"string"!=typeof e)return r;if(t=e.indexOf("?"),t>=0)e=e.substr(t+1);else if(e.indexOf("=")<0)return r;e=e.replace(/^[\s\uFEFF\xA0\?#&]+|[\s\uFEFF\xA0&]+$/g,""),t=e.lastIndexOf("#"),t>0&&(e=e.substr(0,t));var l=e.split("&");for(t=0;t<l.length;++t)i=l[t].replace(/\+/g," ").split("="),f=n(i.shift()),f&&(o=i.length>1?i.join("="):i[0],o=n(o),u=r[f],void 0===u?r[f]=o:Array.isArray(u)?u.push(o):r[f]=[u,o]);return r},stringify:function(n){var t,i,f,o,u,s,c,l=[];if("object"!=typeof n&&"function"!=typeof n||null===n)return"";if(u=e(n),!u||!u.length)return"";for(t=0;t<u.length;t++)if(f=r(u[t]),o=n[f],void 0!==o)if(Array.isArray(o)){for(s=[],i=0;i<o.length;++i)c=o[i],void 0!==i&&(s[s.length]=null===i?f:f+"="+r(c));l[l.length]=s.join("&")}else l[l.length]=null===o?f:f+"="+r(o);return l.join("&")}}});